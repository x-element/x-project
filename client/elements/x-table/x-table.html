<link rel="import" href="../x-link/x-link.html">
<dom-module id="x-table">
	<template>
    <style>
      :host {
        display: block;
      }
    </style>

    <table class="table table-striped">
      <thead>
        <tr>
          <template is="x-repeat" items="{{ schema.properties }}">
            <th>{{ item.name }}</th>
          </template>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <template is="x-repeat" items="{{ items }}">
          <tr>
            <td>{{ item.id }}</td>            
            <td><a is="x-link" href="/admin/collections/{{ schema.plural }}/{{ item.id }}/edit">edit</a></td>
            <td><a on-click="{{ on_click_delete }}" data-id="{{ item.id }}">delete</a></td>
          </tr>
        </template>
      </tbody>
    </table>

  </template>
  <script>
    Polymer('x-table', {

      properties: {
        schema: Object,
        items: Array
      },

      on_click_delete: function (event, detail, target) {
        this.fire('click-delete', {
          id: target.dataset.id
        });
      }

    });
  </script>
</polymer-element>
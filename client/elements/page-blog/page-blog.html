<link rel="import" href="../../components/polymer/polymer.html">
<link rel="import" href="../../components/x-link/x-link.html">
<link rel="import" href="../x-header/x-header.html">
<link rel="import" href="../x-footer/x-footer.html">
<link rel="import" href="../x-post-list/x-post-list.html">
<polymer-element name="page-blog">
  <template>
    <style>
      :host {
        display: block;
      }

      .page {
        margin-top: 50px;
      }
    </style>
    
    <core-ajax auto url="/api/posts" handleAs="json" on-core-response="{{Â on_response }}"></core-ajax>

    <x-header></x-header>
    <div class="page container">
      <a is="x-link" href="/">Back</a>
      <h1>Blog</h1>
      <x-post-list data="{{ data }}"></x-post-list>
      <a is="x-link" href="/">Back</a>
    </div>
    <x-footer></x-footer>

  </template>
  <script>
    Polymer('page-blog', {

      on_response: function(event, res) {
        this.data = res.response;
      }

    });
  </script>
</polymer-element>
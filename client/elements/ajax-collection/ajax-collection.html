<link rel="import" href="../../components/polymer/polymer.html">
<link rel="import" href="../../components/core-ajax/core-ajax.html">
<polymer-element name="ajax-collection" attributes="name">
	<template>
    <style>
      :host {
        display: block;
      }
    </style>

    <core-ajax id="ajax" url="/api/{{ name }}" handleAs="json" 
      on-core-response="{{ on_response }}" on-core-error="{{ on_error }}"></core-ajax>

  </template>
  <script>
    Polymer('ajax-collection', {

      filter: {},

      go: function () {
        this.$.ajax.go();
      },

      on_response: function (event) {
        this.fire('core-response', event);
      },

      on_error: function (event) {
        this.fire('core-error', event);
      }

    });
  </script>
</polymer-element>